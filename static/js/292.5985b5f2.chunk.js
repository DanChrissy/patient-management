"use strict";(self.webpackChunkpatient_manage=self.webpackChunkpatient_manage||[]).push([[292],{43539:function(n,r,e){var o,t=e(30168),a=e(1413),l=e(45987),i=e(15751),s=e(80184),c=["title","disabled","customStyles","onClick"];r.Z=function(n){var r=n.title,e=n.disabled,o=n.customStyles,t=n.onClick,i=(0,l.Z)(n,c);return(0,s.jsx)(d,(0,a.Z)((0,a.Z)({type:"button",onClick:t,disabled:e,style:o},i),{},{children:r}))};var d=i.ZP.button(o||(o=(0,t.Z)(["\n    outline: none;\n    border: none;\n\n    width: auto;\n    padding: var(--space-12) var(--space-14);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    font-family: 'DM Sans';\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-size: normal;\n\n    color: var(--color-white);\n    background-color: var(--color-purple-800);\n    border-radius: 0.25rem;\n\n   cursor: pointer;\n\n   :disabled {\n       cursor: default;\n   }\n\n\n"])))},12538:function(n,r,e){e.d(r,{q:function(){return c},s:function(){return d}});var o,t,a,l=e(30168),i=e(15751),s=e(80184),c=function(n){var r=n.title,e=n.customStyles,o=n.titleStyles,t=n.children;return(0,s.jsxs)(u,{style:e,children:[(0,s.jsx)("p",{className:"group-title",style:o,children:r}),t]})},d=function(n){var r=n.title,e=n.customStyles,o=n.onClick,t=n.disabled,a=void 0!==t&&t;return(0,s.jsx)(f,{disabled:a,style:e,onClick:function(){return!a&&o&&o()},children:r})},u=i.ZP.div(o||(o=(0,l.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    .group-title {\n        margin: 0;\n\n        font-family: 'DM Sans';\n        font-size: 0.625rem;\n        line-height: 0.625rem;\n        font-weight: normal;\n        font-style: normal;\n\n        color: var(--color-gray-100);\n\n        padding: 0.25rem var(--space-16);\n        margin-bottom: var(--space-8);\n\n        background-color: var(--color-gray-800);\n        text-transform: uppercase;\n    }\n"]))),f=i.ZP.div(t||(t=(0,l.Z)(["\n    padding: 0.5rem 0.625rem;\n\n    display: flex;\n    align-items: center;\n\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n\n    color: var(--color-gray-100);\n\n    ","\n\n\n"])),(function(n){return!n.disabled&&(0,i.iv)(a||(a=(0,l.Z)(["\n        :hover {\n            background-color: var(--color-gray-800);\n            cursor: pointer;\n        }\n    "])))}))},10824:function(n,r,e){var o,t,a,l,i,s,c=e(30168),d=e(70885),u=e(72791),f=e(15751),p=e(95717),v=e(80184);r.Z=function(n){var r=n.styledType,e=n.trigger,o=n.error,t=n.customContainerStyes,a=n.children,l=(0,u.useState)(!1),i=(0,d.Z)(l,2),s=i[0],c=i[1];return(0,v.jsxs)(m,{children:[(0,v.jsx)(g,{styledType:r,error:o,onClick:function(){return c(!s)},children:e}),s&&(0,v.jsx)(y,{style:t,children:a})]})};var m=f.ZP.div(o||(o=(0,c.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n\n    position: relative;\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n"]))),g=f.ZP.div(t||(t=(0,c.Z)(["\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ","\n\n    ","\n\n    ","\n"])),(function(n){return n.styledType===p.G.LARGE&&(0,f.iv)(a||(a=(0,c.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&(0,f.iv)(l||(l=(0,c.Z)(["\n        border-color: var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.error&&n.styledType===p.G.LARGE&&(0,f.iv)(i||(i=(0,c.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),y=f.ZP.div(s||(s=(0,c.Z)(["\n    width: auto;\n    min-width: 14rem;\n    /* min-width: max-content; */\n\n    position: absolute;\n    z-index: 2;\n    top: 2.5rem;\n\n    display: flex;\n    flex-direction: column;\n    margin-top: 0.125rem;\n\n    padding: var(--space-8) 0;\n    background-color: var(--color-gray-900);\n    color: var(--color-white);\n\n    border-radius: 0.25rem;\n"])))},95717:function(n,r,e){e.d(r,{G:function(){return f}});var o,t,a,l,i,s,c,d,u,f,p=e(30168),v=e(1413),m=e(45987),g=e(15751),y=e(80184),h=["styledType","type","value","error","onChange"];!function(n){n.LARGE="LARGE",n.SMALL="SMALL"}(f||(f={}));r.Z=function(n){var r=n.styledType,e=n.type,o=void 0===e?"text":e,t=n.value,a=n.error,l=void 0===a?{hasError:!1}:a,i=n.onChange,s=(0,m.Z)(n,h);return(0,y.jsxs)(b,{children:[(0,y.jsx)(Z,(0,v.Z)({styledType:r,type:o,value:t,onChange:i,error:l.hasError},s)),l.hasError&&l.errorMsg&&(0,y.jsx)(x,{styledType:r,children:l.errorMsg})]})};var b=g.ZP.div(o||(o=(0,p.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n"]))),Z=g.ZP.input(t||(t=(0,p.Z)(["\n    outline: none !important;\n\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ::placeholder {\n        color: var(--color-gray-400);\n    }\n\n    :focus {\n        border: 1px solid var(--color-purple-800);\n\n        ","\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(a||(a=(0,p.Z)(["\n            border: 2px solid var(--color-purple-800);\n        "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,g.iv)(l||(l=(0,p.Z)(["\n            border: 2px solid var(--color-red-600);\n        "])))}),(function(n){return n.error&&(0,g.iv)(i||(i=(0,p.Z)(["\n        border: 1px solid var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(s||(s=(0,p.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,g.iv)(c||(c=(0,p.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),x=g.ZP.div(d||(d=(0,p.Z)(["\n    margin-top: var(--space-8);\n    padding: var(--space-8);\n    border-radius: 0.25rem;\n\n    font-size: var(--font-10);\n\n    color: var(--color-orange-800);\n    background-color: var(--color-red-100);\n\n    border: 1px solid var(--color-red-800);\n\n    ","\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(u||(u=(0,p.Z)(["\n        font-size: var(--font-12);\n    "])))}))},19969:function(n,r,e){var o,t=e(30168),a=e(1413),l=e(45987),i=e(15751),s=e(95717),c=e(80184),d=["title","customStyleProps","customField"];r.Z=function(n){var r=n.title,e=n.customStyleProps,o=n.customField,t=(0,l.Z)(n,d);return(0,c.jsxs)(u,{style:e,children:[(0,c.jsx)("p",{children:r}),o||(0,c.jsx)(s.Z,(0,a.Z)({},t))]})};var u=i.ZP.div(o||(o=(0,t.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    p { margin: 0; margin-bottom: var(--space-8);}\n\n"])))},96390:function(n,r,e){e.d(r,{o:function(){return o}});var o=function(n){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())}},1292:function(n,r,e){e.r(r);var o,t,a,l=e(30168),i=e(4942),s=e(1413),c=e(15861),d=e(70885),u=e(87757),f=e.n(u),p=e(72791),v=e(15751),m=e(94275),g=e.n(m),y=e(19969),h=e(43539),b=e(95717),Z=e(96390),x=e(10824),w=e(12538),j=e(16030),k=e(83647),A=e(80184);r.default=function(){var n,r,e=(0,j.I0)(),o=(0,p.useState)({firstName:"",lastName:"",emailAddress:"",password:"",role:{attributes:{name:""}}}),t=(0,d.Z)(o,2),a=t[0],l=t[1],u=(0,p.useState)([]),v=(0,d.Z)(u,2),m=v[0],C=v[1],G=(0,p.useState)([]),P=(0,d.Z)(G,2),R=P[0],T=P[1];function z(n){var r=n.currentTarget,e=r.name,o=r.value;l((0,s.Z)((0,s.Z)({},a),{},(0,i.Z)({},e,o)))}function N(){for(var n=!0,r=[],e=0,o=Object.entries(a);e<o.length;e++){var t=(0,d.Z)(o[e],2),l=t[0],i=t[1];if("emailAddress"===l)if(i)(0,Z.o)(a.emailAddress)||r.push(l);else r.push(l);else if("role"===l){var s,c;0===Object.keys(a.role).length?r.push(l):null!==a&&void 0!==a&&null!==(s=a.role)&&void 0!==s&&null!==(c=s.attributes)&&void 0!==c&&c.name||r.push(l)}else i||r.push(l)}return r.length>0&&(console.log("Vlid error:",r),n=!1),T(r),n}function O(){return(O=(0,c.Z)(f().mark((function n(){var r,o,t,l;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N()){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,(r=new(g().Object)("_User")).set("username",a.emailAddress),r.set("email",a.emailAddress),r.set("password",a.password),r.set("firstName",a.firstName),r.set("lastName",a.lastName),r.set("role",a.role),n.next=13,r.save();case 13:return n.prev=13,n.next=16,g().User.logIn(a.emailAddress,a.password);case 16:return o=n.sent,t=(0,s.Z)((0,s.Z)({id:o.id},o.attributes),{},{role:{id:o.get("role").id}}),l=new(g().Query)("_Role"),n.next=21,l.get(o.get("role").id).then((function(n){var r=n.get("name");t=(0,s.Z)((0,s.Z)({},t),{},{role:(0,s.Z)((0,s.Z)({},t.role),{},{name:r})})})).catch((function(n){console.log("User role could not be found: ",n)}));case 21:delete t.sessionToken,delete t.ACL,e((0,k.av)(t)),alert("User Registered"),n.next=31;break;case 27:n.prev=27,n.t0=n.catch(13),console.log("Login failed:",n.t0),alert("Unable to login registered user");case 31:n.next=37;break;case 33:n.prev=33,n.t1=n.catch(3),console.log("Could not register user: ",n.t1),alert("Unable to register user");case 37:case"end":return n.stop()}}),n,null,[[3,33],[13,27]])})))).apply(this,arguments)}return(0,p.useEffect)((function(){function n(){return(n=(0,c.Z)(f().mark((function n(){var r,e;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new(g().Query)("_Role"),n.next=4,r.find();case 4:e=n.sent,C(e),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert("Unable to select role.");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,A.jsx)(E,{children:(0,A.jsxs)(L,{children:[(0,A.jsxs)(S,{children:[(0,A.jsx)(y.Z,{title:"First Name",name:"firstName",styledType:b.G.LARGE,onChange:z,error:{hasError:R.includes("firstName"),errorMsg:"Please enter a value"}}),(0,A.jsx)(y.Z,{title:"Last Name",name:"lastName",styledType:b.G.LARGE,onChange:z,error:{hasError:R.includes("lastName"),errorMsg:"Please enter a value"}}),(0,A.jsx)(y.Z,{title:"Email Address",name:"emailAddress",type:"email",styledType:b.G.LARGE,onChange:z,error:{hasError:R.includes("emailAddress"),errorMsg:"Please enter a valid email"}}),(0,A.jsx)(y.Z,{title:"Password",name:"password",type:"password",styledType:b.G.LARGE,onChange:z,error:{hasError:R.includes("password"),errorMsg:"Please enter correct password"}}),(0,A.jsx)(y.Z,{title:"ROLE",customField:(0,A.jsx)(x.Z,{styledType:b.G.LARGE,error:R.includes("role"),trigger:(0,A.jsx)("div",{children:(null===a||void 0===a||null===(n=a.role)||void 0===n||null===(r=n.attributes)||void 0===r?void 0:r.name)||"No Role Selected"}),customContainerStyes:{width:"15rem"},children:(0,A.jsx)(w.q,{title:"ROLES",children:m.map((function(n,r){var e;return(0,A.jsx)(w.s,{title:null===n||void 0===n||null===(e=n.attributes)||void 0===e?void 0:e.name,onClick:function(){return function(n){l((0,s.Z)((0,s.Z)({},a),{},{role:n}))}(n)}})}))})})})]}),(0,A.jsx)(h.Z,{title:"Register",onClick:function(){return O.apply(this,arguments)},customStyles:{width:"25rem",fontSize:"var(--font-18)",textTransform:"uppercase"}})]})})};var E=v.ZP.div(o||(o=(0,l.Z)(["\n    height: max-content;\n    width: 100%;\n\n    margin: 0;\n    padding: 0;\n"]))),L=v.ZP.div(t||(t=(0,l.Z)(["\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* justify-content: center; */\n"]))),S=v.ZP.div(a||(a=(0,l.Z)(["\n    /* height: 100%; */\n    margin-bottom: var(--space-20);\n\n    display: grid;\n    justify-content: center;\n    align-content: center;\n\n    grid-template-columns: repeat(2, 26rem);\n    grid-column-gap: var(--space-20);\n    grid-row-gap: var(--space-12);\n"])))},45987:function(n,r,e){e.d(r,{Z:function(){return t}});var o=e(63366);function t(n,r){if(null==n)return{};var e,t,a=(0,o.Z)(n,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(t=0;t<l.length;t++)e=l[t],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}},63366:function(n,r,e){function o(n,r){if(null==n)return{};var e,o,t={},a=Object.keys(n);for(o=0;o<a.length;o++)e=a[o],r.indexOf(e)>=0||(t[e]=n[e]);return t}e.d(r,{Z:function(){return o}})}}]);
//# sourceMappingURL=292.5985b5f2.chunk.js.map