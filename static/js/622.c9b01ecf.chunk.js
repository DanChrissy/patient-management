"use strict";(self.webpackChunkpatient_manage=self.webpackChunkpatient_manage||[]).push([[622],{43539:function(n,r,e){var o,t=e(30168),a=e(1413),i=e(45987),l=e(15751),s=e(80184),c=["title","disabled","customStyles","onClick"];r.Z=function(n){var r=n.title,e=n.disabled,o=n.customStyles,t=n.onClick,l=(0,i.Z)(n,c);return(0,s.jsx)(u,(0,a.Z)((0,a.Z)({type:"button",onClick:t,disabled:e,style:o},l),{},{children:r}))};var u=l.ZP.button(o||(o=(0,t.Z)(["\n    outline: none;\n    border: none;\n\n    width: auto;\n    padding: var(--space-12) var(--space-14);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    font-family: 'DM Sans';\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-size: normal;\n\n    color: var(--color-white);\n    background-color: var(--color-purple-800);\n    border-radius: 0.25rem;\n\n   cursor: pointer;\n\n   :disabled {\n       cursor: default;\n   }\n\n\n"])))},95717:function(n,r,e){e.d(r,{G:function(){return f}});var o,t,a,i,l,s,c,u,d,f,p=e(30168),v=e(1413),g=e(45987),y=e(15751),m=e(80184),Z=["styledType","type","value","error","onChange"];!function(n){n.LARGE="LARGE",n.SMALL="SMALL"}(f||(f={}));r.Z=function(n){var r=n.styledType,e=n.type,o=void 0===e?"text":e,t=n.value,a=n.error,i=void 0===a?{hasError:!1}:a,l=n.onChange,s=(0,g.Z)(n,Z);return(0,m.jsxs)(h,{children:[(0,m.jsx)(b,(0,v.Z)({styledType:r,type:o,value:t,onChange:l,error:i.hasError},s)),i.hasError&&i.errorMsg&&(0,m.jsx)(x,{styledType:r,children:i.errorMsg})]})};var h=y.ZP.div(o||(o=(0,p.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n"]))),b=y.ZP.input(t||(t=(0,p.Z)(["\n    outline: none !important;\n\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ::placeholder {\n        color: var(--color-gray-400);\n    }\n\n    :focus {\n        border: 1px solid var(--color-purple-800);\n\n        ","\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,y.iv)(a||(a=(0,p.Z)(["\n            border: 2px solid var(--color-purple-800);\n        "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,y.iv)(i||(i=(0,p.Z)(["\n            border: 2px solid var(--color-red-600);\n        "])))}),(function(n){return n.error&&(0,y.iv)(l||(l=(0,p.Z)(["\n        border: 1px solid var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.styledType===f.LARGE&&(0,y.iv)(s||(s=(0,p.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,y.iv)(c||(c=(0,p.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),x=y.ZP.div(u||(u=(0,p.Z)(["\n    margin-top: var(--space-8);\n    padding: var(--space-8);\n    border-radius: 0.25rem;\n\n    font-size: var(--font-10);\n\n    color: var(--color-orange-800);\n    background-color: var(--color-red-100);\n\n    border: 1px solid var(--color-red-800);\n\n    ","\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,y.iv)(d||(d=(0,p.Z)(["\n        font-size: var(--font-12);\n    "])))}))},19969:function(n,r,e){var o,t=e(30168),a=e(1413),i=e(45987),l=e(15751),s=e(95717),c=e(80184),u=["title","customStyleProps","customField"];r.Z=function(n){var r=n.title,e=n.customStyleProps,o=n.customField,t=(0,i.Z)(n,u);return(0,c.jsxs)(d,{style:e,children:[(0,c.jsx)("p",{children:r}),o||(0,c.jsx)(s.Z,(0,a.Z)({},t))]})};var d=l.ZP.div(o||(o=(0,t.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    p { margin: 0; margin-bottom: var(--space-8);}\n\n"])))},96390:function(n,r,e){e.d(r,{o:function(){return o}});var o=function(n){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())}},55622:function(n,r,e){e.r(r);var o,t,a=e(30168),i=e(15861),l=e(4942),s=e(1413),c=e(70885),u=e(87757),d=e.n(u),f=e(72791),p=e(16030),v=e(94275),g=e.n(v),y=e(16871),m=e(15751),Z=e(43539),h=e(95717),b=e(19969),x=e(96390),w=e(83647),k=e(80184);r.default=function(){(0,p.v9)(w.PR);var n=(0,p.I0)(),r=((0,y.s0)(),(0,f.useState)({email:"",password:""})),e=(0,c.Z)(r,2),o=e[0],t=e[1],a=(0,f.useState)([]),u=(0,c.Z)(a,2),v=u[0],m=u[1];function L(n){var r=n.currentTarget,e=r.name,a=r.value;t((0,s.Z)((0,s.Z)({},o),{},(0,l.Z)({},e,a)))}function E(){for(var n=!0,r=[],e=0,t=Object.entries(o);e<t.length;e++){var a=(0,c.Z)(t[e],2),i=a[0],l=a[1];if("email"===i)if(l)(0,x.o)(l)||r.push(i);else r.push(i);else l||r.push(i)}return r.length>0&&(n=!1),m(r),n}function T(){return(T=(0,i.Z)(d().mark((function r(){var e,t,a,i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(E()){r.next=3;break}return r.abrupt("return");case 3:return r.prev=3,r.next=6,g().User.logIn(o.email,o.password);case 6:return e=r.sent,r.next=9,g().User.current();case 9:if(t=r.sent,console.log("Success logged in:",t,e),e!==t){r.next=19;break}return a=(0,s.Z)((0,s.Z)({id:t.id},t.attributes),{},{role:{id:t.get("role").id}}),i=new(g().Query)("_Role"),r.next=16,i.get(t.get("role").id).then((function(n){var r=n.get("name");a=(0,s.Z)((0,s.Z)({},a),{},{role:(0,s.Z)((0,s.Z)({},a.role),{},{name:r})})})).catch((function(n){console.log("User role could not be found: ",n)}));case 16:delete a.sessionToken,delete a.ACL,n((0,w.av)(a));case 19:r.next=25;break;case 21:r.prev=21,r.t0=r.catch(3),console.log("Login failed:",r.t0),alert("Invalid login. Please try again");case 25:case"end":return r.stop()}}),r,null,[[3,21]])})))).apply(this,arguments)}return(0,k.jsx)(S,{children:(0,k.jsxs)(P,{children:[(0,k.jsx)(b.Z,{title:"Email Address",styledType:h.G.LARGE,customStyleProps:(0,s.Z)({},j),name:"email",onChange:L,error:{hasError:v.includes("email"),errorMsg:"Please enter valid email"}}),(0,k.jsx)(b.Z,{title:"Password",styledType:h.G.LARGE,type:"password",customStyleProps:(0,s.Z)((0,s.Z)({},j),{},{marginTop:"var(--space-12"}),name:"password",onChange:L,error:{hasError:v.includes("password"),errorMsg:"Please enter a password"}}),(0,k.jsx)(Z.Z,{title:"Login",onClick:function(){return T.apply(this,arguments)},customStyles:{marginTop:"var(--space-14)",width:"25rem",fontSize:"var(--font-18)",textTransform:"uppercase"}})]})})};var j={fontFamily:"DM Sans",fontSize:"var(--font-16)"},S=m.ZP.div(o||(o=(0,a.Z)(["\n    height: max-content;\n    width: 100%;\n\n    margin: 0;\n    padding: 0;\n"]))),P=m.ZP.div(t||(t=(0,a.Z)(["\n    height: 100%;\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"])))},45987:function(n,r,e){e.d(r,{Z:function(){return t}});var o=e(63366);function t(n,r){if(null==n)return{};var e,t,a=(0,o.Z)(n,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)e=i[t],r.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}},63366:function(n,r,e){function o(n,r){if(null==n)return{};var e,o,t={},a=Object.keys(n);for(o=0;o<a.length;o++)e=a[o],r.indexOf(e)>=0||(t[e]=n[e]);return t}e.d(r,{Z:function(){return o}})}}]);
//# sourceMappingURL=622.c9b01ecf.chunk.js.map