"use strict";(self.webpackChunkpatient_manage=self.webpackChunkpatient_manage||[]).push([[937],{43539:function(n,e,r){var t,o=r(30168),a=r(1413),i=r(45987),l=r(15751),c=r(80184),s=["title","disabled","customStyles","onClick"];e.Z=function(n){var e=n.title,r=n.disabled,t=n.customStyles,o=n.onClick,l=(0,i.Z)(n,s);return(0,c.jsx)(d,(0,a.Z)((0,a.Z)({type:"button",onClick:o,disabled:r,style:t},l),{},{children:e}))};var d=l.ZP.button(t||(t=(0,o.Z)(["\n    outline: none;\n    border: none;\n\n    width: auto;\n    padding: var(--space-12) var(--space-14);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    font-family: 'DM Sans';\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-size: normal;\n\n    color: var(--color-white);\n    background-color: var(--color-purple-800);\n    border-radius: 0.25rem;\n\n   cursor: pointer;\n\n   :disabled {\n       cursor: default;\n   }\n\n\n"])))},23063:function(n,e,r){var t,o,a,i,l=r(30168),c=r(70885),s=r(72791),d=r(15751),u=r(94936),p=r(81764),f=r(80184);e.Z=function(n){var e=n.title,r=n.customTitleStyles,t=n.customContentStyles,o=n.children,a=(0,s.useState)(!1),i=(0,c.Z)(a,2),l=i[0],d=i[1];function y(){d(!l)}return(0,f.jsxs)(v,{children:[(0,f.jsxs)(m,{isOpen:l,style:r,children:[(0,f.jsx)("span",{children:e}),l?(0,f.jsx)(u.Z,{className:"collapsible-icon",onClick:y}):(0,f.jsx)(p.Z,{className:"collapsible-icon",onClick:y})]}),l&&(0,f.jsx)(g,{style:t,children:o})]})};var v=d.ZP.div(t||(t=(0,l.Z)(["\n    width: auto;\n    min-width: 5rem;\n    display: flex;\n    flex-direction: column;\n"]))),m=d.ZP.div(o||(o=(0,l.Z)(["\n    width: auto;\n    height: 3rem;\n    padding: var(--space-12) var(--space-14);\n\n    background-color: var(--color-white);\n\n    border: 1px solid var(--color-gray-800);\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ","\n\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    font-family: Inter;\n    font-size: var(--font-16);\n    line-height: 1rem;\n    font-weight: 500;\n    font-style: normal;\n    color: var(--color-gray-800);\n\n    .collapsible-icon {\n        cursor: pointer;\n    }\n\n"])),(function(n){return n.isOpen&&(0,d.iv)(a||(a=(0,l.Z)(["\n        border-bottom: 0;\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n    "])))})),g=d.ZP.div(i||(i=(0,l.Z)(["\n    width: auto;\n    /* margin-top: var(--space-8); */\n    /* padding-bottom: var(--space-20); */\n\n    background: var(--color-white);\n\n    border: 1px solid var(--color-gray-800);\n    border-top: 0;\n\n    border-bottom-left-radius: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n"])))},12538:function(n,e,r){r.d(e,{q:function(){return s},s:function(){return d}});var t,o,a,i=r(30168),l=r(15751),c=r(80184),s=function(n){var e=n.title,r=n.customStyles,t=n.titleStyles,o=n.children;return(0,c.jsxs)(u,{style:r,children:[(0,c.jsx)("p",{className:"group-title",style:t,children:e}),o]})},d=function(n){var e=n.title,r=n.customStyles,t=n.onClick,o=n.disabled,a=void 0!==o&&o;return(0,c.jsx)(p,{disabled:a,style:r,onClick:function(){return!a&&t&&t()},children:e})},u=l.ZP.div(t||(t=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    .group-title {\n        margin: 0;\n\n        font-family: 'DM Sans';\n        font-size: 0.625rem;\n        line-height: 0.625rem;\n        font-weight: normal;\n        font-style: normal;\n\n        color: var(--color-gray-100);\n\n        padding: 0.25rem var(--space-16);\n        margin-bottom: var(--space-8);\n\n        background-color: var(--color-gray-800);\n        text-transform: uppercase;\n    }\n"]))),p=l.ZP.div(o||(o=(0,i.Z)(["\n    padding: 0.5rem 0.625rem;\n\n    display: flex;\n    align-items: center;\n\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n\n    color: var(--color-gray-100);\n\n    ","\n\n\n"])),(function(n){return!n.disabled&&(0,l.iv)(a||(a=(0,i.Z)(["\n        :hover {\n            background-color: var(--color-gray-800);\n            cursor: pointer;\n        }\n    "])))}))},10824:function(n,e,r){var t,o,a,i,l,c,s=r(30168),d=r(70885),u=r(72791),p=r(15751),f=r(95717),v=r(80184);e.Z=function(n){var e=n.styledType,r=n.trigger,t=n.error,o=n.customContainerStyes,a=n.children,i=(0,u.useState)(!1),l=(0,d.Z)(i,2),c=l[0],s=l[1];return(0,v.jsxs)(m,{children:[(0,v.jsx)(g,{styledType:e,error:t,onClick:function(){return s(!c)},children:r}),c&&(0,v.jsx)(y,{style:o,children:a})]})};var m=p.ZP.div(t||(t=(0,s.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n\n    position: relative;\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n"]))),g=p.ZP.div(o||(o=(0,s.Z)(["\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ","\n\n    ","\n\n    ","\n"])),(function(n){return n.styledType===f.G.LARGE&&(0,p.iv)(a||(a=(0,s.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&(0,p.iv)(i||(i=(0,s.Z)(["\n        border-color: var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.error&&n.styledType===f.G.LARGE&&(0,p.iv)(l||(l=(0,s.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),y=p.ZP.div(c||(c=(0,s.Z)(["\n    width: auto;\n    min-width: 14rem;\n    /* min-width: max-content; */\n\n    position: absolute;\n    z-index: 2;\n    top: 2.5rem;\n\n    display: flex;\n    flex-direction: column;\n    margin-top: 0.125rem;\n\n    padding: var(--space-8) 0;\n    background-color: var(--color-gray-900);\n    color: var(--color-white);\n\n    border-radius: 0.25rem;\n"])))},95717:function(n,e,r){r.d(e,{G:function(){return p}});var t,o,a,i,l,c,s,d,u,p,f=r(30168),v=r(1413),m=r(45987),g=r(15751),y=r(80184),h=["styledType","type","value","error","onChange"];!function(n){n.LARGE="LARGE",n.SMALL="SMALL"}(p||(p={}));e.Z=function(n){var e=n.styledType,r=n.type,t=void 0===r?"text":r,o=n.value,a=n.error,i=void 0===a?{hasError:!1}:a,l=n.onChange,c=(0,m.Z)(n,h);return(0,y.jsxs)(x,{children:[(0,y.jsx)(b,(0,v.Z)({styledType:e,type:t,value:o,onChange:l,error:i.hasError},c)),i.hasError&&i.errorMsg&&(0,y.jsx)(Z,{styledType:e,children:i.errorMsg})]})};var x=g.ZP.div(t||(t=(0,f.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n"]))),b=g.ZP.input(o||(o=(0,f.Z)(["\n    outline: none !important;\n\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ::placeholder {\n        color: var(--color-gray-400);\n    }\n\n    :focus {\n        border: 1px solid var(--color-purple-800);\n\n        ","\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n\n\n"])),(function(n){return n.styledType===p.LARGE&&(0,g.iv)(a||(a=(0,f.Z)(["\n            border: 2px solid var(--color-purple-800);\n        "])))}),(function(n){return n.error&&n.styledType===p.LARGE&&(0,g.iv)(i||(i=(0,f.Z)(["\n            border: 2px solid var(--color-red-600);\n        "])))}),(function(n){return n.error&&(0,g.iv)(l||(l=(0,f.Z)(["\n        border: 1px solid var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.styledType===p.LARGE&&(0,g.iv)(c||(c=(0,f.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&n.styledType===p.LARGE&&(0,g.iv)(s||(s=(0,f.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),Z=g.ZP.div(d||(d=(0,f.Z)(["\n    margin-top: var(--space-8);\n    padding: var(--space-8);\n    border-radius: 0.25rem;\n\n    font-size: var(--font-10);\n\n    color: var(--color-orange-800);\n    background-color: var(--color-red-100);\n\n    border: 1px solid var(--color-red-800);\n\n    ","\n\n"])),(function(n){return n.styledType===p.LARGE&&(0,g.iv)(u||(u=(0,f.Z)(["\n        font-size: var(--font-12);\n    "])))}))},19969:function(n,e,r){var t,o=r(30168),a=r(1413),i=r(45987),l=r(15751),c=r(95717),s=r(80184),d=["title","customStyleProps","customField"];e.Z=function(n){var e=n.title,r=n.customStyleProps,t=n.customField,o=(0,i.Z)(n,d);return(0,s.jsxs)(u,{style:r,children:[(0,s.jsx)("p",{children:e}),t||(0,s.jsx)(c.Z,(0,a.Z)({},o))]})};var u=l.ZP.div(t||(t=(0,o.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    p { margin: 0; margin-bottom: var(--space-8);}\n\n"])))},70937:function(n,e,r){r.r(e),r.d(e,{default:function(){return G}});var t,o,a,i,l,c,s=r(30168),d=r(1413),u=r(15861),p=r(70885),f=r(87757),v=r.n(f),m=r(72791),g=r(15751),y=r(94275),h=r.n(y),x=r(19969),b=r(95717),Z=r(763),w=r(68181),j=r(23063),k=r(30163),S=r(16349),P=r(16030),T=r(83647),C=r(80184),A=function(n){var e=n.reload,r=n.handleReload,t=(0,P.v9)(T.PR),o=(k.k9.selectAll(S.h.getState()),(0,m.useState)([])),a=(0,p.Z)(o,2),i=a[0],l=a[1];function c(){return s.apply(this,arguments)}function s(){return(s=(0,u.Z)(v().mark((function n(){var e,o,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new(h().Query)("Appointment"),o=new(h().Query)("_User"),n.prev=2,n.next=5,o.get(t.id);case 5:return a=n.sent,e.equalTo("patient",a),n.prev=7,n.next=10,e.find();case 10:d(n.sent),r(),n.next=17;break;case 15:n.prev=15,n.t0=n.catch(7);case 17:n.next=21;break;case 19:n.prev=19,n.t1=n.catch(2);case 21:case"end":return n.stop()}}),n,null,[[2,19],[7,15]])})))).apply(this,arguments)}function d(n){var e=n.map((function(n){return{date:n.get("date"),doctor:"".concat(n.get("doctor").get("firstName")," ").concat(n.get("doctor").get("lastName")),status:n.get("status")}})),r=(0,Z.groupBy)(e,(function(n){return(0,w.Z)(new Date(n.date),"MMMM")})),t=Object.keys(r).map((function(n){return{groupTitle:n,groupDates:r[n]}}));l(t)}return(0,m.useEffect)((function(){c()}),[]),(0,m.useEffect)((function(){e&&c()}),[e]),(0,C.jsx)(E,{children:i.map((function(n,e){return(0,C.jsx)("div",{className:"collapse-app",children:(0,C.jsx)(j.Z,{title:n.groupTitle,children:(0,C.jsx)(M,{children:n.groupDates.map((function(n,e){return(0,C.jsxs)("p",{className:"appointment",children:[(0,C.jsxs)("span",{className:"bold",children:[(0,w.Z)(new Date(n.date),"MMM d, yyyy")," @ ",(0,w.Z)(new Date(n.date),"hh:mm")]})," appointment by Doctor ",(0,C.jsx)("span",{className:"bold",children:n.doctor})," - ",(0,C.jsx)("span",{className:"bold",children:n.status})]},"appointment-".concat(Math.random()+e))}))})})},"collapse-app-".concat(Math.random()+e))}))})},E=g.ZP.div(t||(t=(0,s.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    .collapse-app {\n        margin-bottom: var(--space-12);\n        :last-of-type { margin-bottom: 0; }\n    }\n"]))),M=g.ZP.div(o||(o=(0,s.Z)(["\n    margin: var(--space-12) var(--space-14);\n\n    display: flex;\n    flex-direction: column;\n\n    .appointment {\n        margin: 0;\n        font-family: Inter;\n        font-size: var(--font-12);\n        line-height: var(--font-14);\n        font-weight: 400;\n        font-style: normal;\n        color: var(--color-gray-800);\n\n        margin-bottom: var(--space-12);\n\n        ::before {\n            content: '+';\n            margin-right: var(--space-8);\n        }\n\n        :last-of-type{ margin-bottom: 0; }\n    }\n\n    .bold {\n        font-weight: bold;\n    }\n\n"]))),z=r(10824),R=r(12538),D=r(43539),G=function(){(0,P.I0)();var n=(0,P.v9)(T.PR),e=(0,m.useState)({date:"",doctor:{}}),r=(0,p.Z)(e,2),t=r[0],o=r[1],a=(0,m.useState)([]),i=(0,p.Z)(a,2),l=i[0],c=i[1],s=(0,m.useState)([]),f=(0,p.Z)(s,2),g=f[0],y=f[1],Z=(0,m.useState)(!1),j=(0,p.Z)(Z,2),k=j[0],S=j[1];function E(){var n=!0,e=[];return t.date||e.push("date"),0===Object.keys(t.doctor).length&&e.push("doctor"),e.length>0&&(n=!1),c(e),n}function M(){return(M=(0,u.Z)(v().mark((function e(){var r,a,i,l,c,s,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!1),E()){e.next=4;break}return e.abrupt("return");case 4:return r=new(h().Object)("Appointment"),a=new(h().Query)("_User"),i=t.date.replace(/-/g,"/"),l=new Date(i),c="pending",s=t.doctor,e.prev=10,e.next=13,a.get(n.id);case 13:return d=e.sent,r.set("date",l),r.set("doctor",s),r.set("status",c),r.set("patient",d),e.prev=18,e.next=21,r.save();case 21:e.sent,S(!0),o({date:"",doctor:""}),alert("Appointment sent for approval"),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(18),console.error("Error while creating appointment: ",e.t0);case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(10),console.log("Err: ",e.t1);case 35:case"end":return e.stop()}}),e,null,[[10,32],[18,27]])})))).apply(this,arguments)}return(0,m.useEffect)((function(){function n(){return(n=(0,u.Z)(v().mark((function n(){var e,r,t,o,a;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new(h().Query)("_Role"),r=new(h().Query)("_User"),e.equalTo("name","Doctor"),n.prev=3,n.next=6,e.find();case 6:return t=n.sent,o=t[0],r.equalTo("role",o),n.prev=9,n.next=12,r.find();case 12:a=n.sent,y(a),console.log("Doctor Users: ",a),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(9),console.log("Could not get doctor: ",n.t0);case 20:n.next=25;break;case 22:n.prev=22,n.t1=n.catch(3),alert("Unable to select role.");case 25:case"end":return n.stop()}}),n,null,[[3,22],[9,17]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,C.jsx)(L,{children:(0,C.jsxs)(N,{children:[(0,C.jsxs)(I,{children:[(0,C.jsx)(x.Z,{title:"Apppointment Date",type:"date",styledType:b.G.LARGE,min:(0,w.Z)(new Date,"yyyy-MM-dd"),onChange:function(n){var e=n.currentTarget.value;o((0,d.Z)((0,d.Z)({},t),{},{date:e}))},error:{hasError:l.includes("date"),errorMsg:"Please select a date"}}),(0,C.jsx)(x.Z,{title:"Doctor",customField:(0,C.jsx)(z.Z,{styledType:b.G.LARGE,error:l.includes("doctor"),trigger:(0,C.jsx)("div",{children:Object.keys(null===t||void 0===t?void 0:t.doctor).length>0?"".concat(null===t||void 0===t?void 0:t.doctor.get("firstName")," ").concat(null===t||void 0===t?void 0:t.doctor.get("lastName")):"No Doctor Selected"}),customContainerStyes:{width:"15rem"},children:(0,C.jsx)(R.q,{title:"DOCTORS",children:g.map((function(n,e){return(0,C.jsx)(R.s,{title:"".concat(n.get("firstName")," ").concat(n.get("lastName")),onClick:function(){return e=n,void o((0,d.Z)((0,d.Z)({},t),{},{doctor:e}));var e}})}))})})}),(0,C.jsx)("div",{style:{display:"flex",alignItems:"flex-start",marginTop:"var(--space-24)"},children:(0,C.jsx)(D.Z,{title:"Set Appointment",customStyles:{height:"2.75rem",width:"max-content"},onClick:function(){return M.apply(this,arguments)}})})]}),(0,C.jsxs)(O,{children:[(0,C.jsx)("p",{children:"Patient's Appointments"}),(0,C.jsx)(A,{reload:k,handleReload:function(){return S(!1)}})]})]})})},L=g.ZP.div(a||(a=(0,s.Z)(["\n    height: 100%;\n    width: 100%;\n\n    margin: 0;\n"]))),N=g.ZP.div(i||(i=(0,s.Z)(["\n    height: calc(100% - var(--space-48));\n    padding: var(--space-24);\n    background-color: var(--color-gray-200);\n\n    display: flex;\n    flex-direction: column;\n"]))),I=g.ZP.div(l||(l=(0,s.Z)(["\n    /* margin: 0 var(--space-24); */\n    display: grid;\n    align-content: center;\n    justify-content: center;\n    grid-template-columns: 26rem max-content auto;\n    grid-column-gap: var(--space-14);\n"]))),O=g.ZP.div(c||(c=(0,s.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    width: 25rem;\n"])))}}]);
//# sourceMappingURL=937.97fc4fb2.chunk.js.map