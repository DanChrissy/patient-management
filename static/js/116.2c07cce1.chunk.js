"use strict";(self.webpackChunkpatient_manage=self.webpackChunkpatient_manage||[]).push([[116,622,292],{43539:function(n,e,r){var t,o=r(30168),a=r(1413),i=r(45987),l=r(15751),s=r(80184),c=["title","disabled","customStyles","onClick"];e.Z=function(n){var e=n.title,r=n.disabled,t=n.customStyles,o=n.onClick,l=(0,i.Z)(n,c);return(0,s.jsx)(d,(0,a.Z)((0,a.Z)({type:"button",onClick:o,disabled:r,style:t},l),{},{children:e}))};var d=l.ZP.button(t||(t=(0,o.Z)(["\n    outline: none;\n    border: none;\n\n    width: auto;\n    padding: var(--space-12) var(--space-14);\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    font-family: 'DM Sans';\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-size: normal;\n\n    color: var(--color-white);\n    background-color: var(--color-purple-800);\n    border-radius: 0.25rem;\n\n   cursor: pointer;\n\n   :disabled {\n       cursor: default;\n   }\n\n\n"])))},12538:function(n,e,r){r.d(e,{q:function(){return c},s:function(){return d}});var t,o,a,i=r(30168),l=r(15751),s=r(80184),c=function(n){var e=n.title,r=n.customStyles,t=n.titleStyles,o=n.children;return(0,s.jsxs)(u,{style:r,children:[(0,s.jsx)("p",{className:"group-title",style:t,children:e}),o]})},d=function(n){var e=n.title,r=n.customStyles,t=n.onClick,o=n.disabled,a=void 0!==o&&o;return(0,s.jsx)(f,{disabled:a,style:r,onClick:function(){return!a&&t&&t()},children:e})},u=l.ZP.div(t||(t=(0,i.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    .group-title {\n        margin: 0;\n\n        font-family: 'DM Sans';\n        font-size: 0.625rem;\n        line-height: 0.625rem;\n        font-weight: normal;\n        font-style: normal;\n\n        color: var(--color-gray-100);\n\n        padding: 0.25rem var(--space-16);\n        margin-bottom: var(--space-8);\n\n        background-color: var(--color-gray-800);\n        text-transform: uppercase;\n    }\n"]))),f=l.ZP.div(o||(o=(0,i.Z)(["\n    padding: 0.5rem 0.625rem;\n\n    display: flex;\n    align-items: center;\n\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n\n    color: var(--color-gray-100);\n\n    ","\n\n\n"])),(function(n){return!n.disabled&&(0,l.iv)(a||(a=(0,i.Z)(["\n        :hover {\n            background-color: var(--color-gray-800);\n            cursor: pointer;\n        }\n    "])))}))},10824:function(n,e,r){var t,o,a,i,l,s,c=r(30168),d=r(70885),u=r(72791),f=r(15751),p=r(95717),v=r(80184);e.Z=function(n){var e=n.styledType,r=n.trigger,t=n.error,o=n.customContainerStyes,a=n.children,i=(0,u.useState)(!1),l=(0,d.Z)(i,2),s=l[0],c=l[1];return(0,v.jsxs)(m,{children:[(0,v.jsx)(g,{styledType:e,error:t,onClick:function(){return c(!s)},children:r}),s&&(0,v.jsx)(h,{style:o,children:a})]})};var m=f.ZP.div(t||(t=(0,c.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n\n    position: relative;\n\n    ::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n"]))),g=f.ZP.div(o||(o=(0,c.Z)(["\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ","\n\n    ","\n\n    ","\n"])),(function(n){return n.styledType===p.G.LARGE&&(0,f.iv)(a||(a=(0,c.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&(0,f.iv)(i||(i=(0,c.Z)(["\n        border-color: var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.error&&n.styledType===p.G.LARGE&&(0,f.iv)(l||(l=(0,c.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),h=f.ZP.div(s||(s=(0,c.Z)(["\n    width: auto;\n    min-width: 14rem;\n    /* min-width: max-content; */\n\n    position: absolute;\n    z-index: 2;\n    top: 2.5rem;\n\n    display: flex;\n    flex-direction: column;\n    margin-top: 0.125rem;\n\n    padding: var(--space-8) 0;\n    background-color: var(--color-gray-900);\n    color: var(--color-white);\n\n    border-radius: 0.25rem;\n"])))},95717:function(n,e,r){r.d(e,{G:function(){return f}});var t,o,a,i,l,s,c,d,u,f,p=r(30168),v=r(1413),m=r(45987),g=r(15751),h=r(80184),y=["styledType","type","value","error","onChange"];!function(n){n.LARGE="LARGE",n.SMALL="SMALL"}(f||(f={}));e.Z=function(n){var e=n.styledType,r=n.type,t=void 0===r?"text":r,o=n.value,a=n.error,i=void 0===a?{hasError:!1}:a,l=n.onChange,s=(0,m.Z)(n,y);return(0,h.jsxs)(Z,{children:[(0,h.jsx)(x,(0,v.Z)({styledType:e,type:t,value:o,onChange:l,error:i.hasError},s)),i.hasError&&i.errorMsg&&(0,h.jsx)(b,{styledType:e,children:i.errorMsg})]})};var Z=g.ZP.div(t||(t=(0,p.Z)(["\n    width: auto;\n\n    display: flex;\n    flex-direction: column;\n"]))),x=g.ZP.input(o||(o=(0,p.Z)(["\n    outline: none !important;\n\n    padding: var(--space-10) var(--space-12);\n    background-color: var(--color-white);\n    border: 1px solid var(--color-gray-800);\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    border-radius: 0.25rem;\n    box-sizing: border-box;\n\n    ::placeholder {\n        color: var(--color-gray-400);\n    }\n\n    :focus {\n        border: 1px solid var(--color-purple-800);\n\n        ","\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(a||(a=(0,p.Z)(["\n            border: 2px solid var(--color-purple-800);\n        "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,g.iv)(i||(i=(0,p.Z)(["\n            border: 2px solid var(--color-red-600);\n        "])))}),(function(n){return n.error&&(0,g.iv)(l||(l=(0,p.Z)(["\n        border: 1px solid var(--color-orange-600);\n        background-color: var(--color-orange-100);\n    "])))}),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(s||(s=(0,p.Z)(["\n        min-width: 25rem;\n        min-height: 3rem;\n\n        font-size: var(--font-16);\n        font-weight: 500;\n\n        border: 2px solid var(--color-gray-600);\n\n    "])))}),(function(n){return n.error&&n.styledType===f.LARGE&&(0,g.iv)(c||(c=(0,p.Z)(["\n        border: 2px solid var(--color-red-600);\n        background-color: var(--color-white);\n        color: var(--color-black);\n    "])))})),b=g.ZP.div(d||(d=(0,p.Z)(["\n    margin-top: var(--space-8);\n    padding: var(--space-8);\n    border-radius: 0.25rem;\n\n    font-size: var(--font-10);\n\n    color: var(--color-orange-800);\n    background-color: var(--color-red-100);\n\n    border: 1px solid var(--color-red-800);\n\n    ","\n\n"])),(function(n){return n.styledType===f.LARGE&&(0,g.iv)(u||(u=(0,p.Z)(["\n        font-size: var(--font-12);\n    "])))}))},19969:function(n,e,r){var t,o=r(30168),a=r(1413),i=r(45987),l=r(15751),s=r(95717),c=r(80184),d=["title","customStyleProps","customField"];e.Z=function(n){var e=n.title,r=n.customStyleProps,t=n.customField,o=(0,i.Z)(n,d);return(0,c.jsxs)(u,{style:r,children:[(0,c.jsx)("p",{children:e}),t||(0,c.jsx)(s.Z,(0,a.Z)({},o))]})};var u=l.ZP.div(t||(t=(0,o.Z)(["\n    display: flex;\n    flex-direction: column;\n\n    font-family: Inter;\n    font-size: var(--font-14);\n    font-weight: normal;\n    font-style: normal;\n    color: var(--color-gray-600);\n\n    p { margin: 0; margin-bottom: var(--space-8);}\n\n"])))},96390:function(n,e,r){r.d(e,{o:function(){return t}});var t=function(n){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n).toLowerCase())}},55622:function(n,e,r){r.r(e);var t,o,a=r(30168),i=r(15861),l=r(4942),s=r(1413),c=r(70885),d=r(87757),u=r.n(d),f=r(72791),p=r(16030),v=r(94275),m=r.n(v),g=r(16871),h=r(15751),y=r(43539),Z=r(95717),x=r(19969),b=r(96390),w=r(83647),j=r(80184);e.default=function(){(0,p.v9)(w.PR);var n=(0,p.I0)(),e=((0,g.s0)(),(0,f.useState)({email:"",password:""})),r=(0,c.Z)(e,2),t=r[0],o=r[1],a=(0,f.useState)([]),d=(0,c.Z)(a,2),v=d[0],h=d[1];function L(n){var e=n.currentTarget,r=e.name,a=e.value;o((0,s.Z)((0,s.Z)({},t),{},(0,l.Z)({},r,a)))}function S(){for(var n=!0,e=[],r=0,o=Object.entries(t);r<o.length;r++){var a=(0,c.Z)(o[r],2),i=a[0],l=a[1];if("email"===i)if(l)(0,b.o)(l)||e.push(i);else e.push(i);else l||e.push(i)}return e.length>0&&(n=!1),h(e),n}function E(){return(E=(0,i.Z)(u().mark((function e(){var r,o,a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,m().User.logIn(t.email,t.password);case 6:return r=e.sent,e.next=9,m().User.current();case 9:if(o=e.sent,console.log("Success logged in:",o,r),r!==o){e.next=19;break}return a=(0,s.Z)((0,s.Z)({id:o.id},o.attributes),{},{role:{id:o.get("role").id}}),i=new(m().Query)("_Role"),e.next=16,i.get(o.get("role").id).then((function(n){var e=n.get("name");a=(0,s.Z)((0,s.Z)({},a),{},{role:(0,s.Z)((0,s.Z)({},a.role),{},{name:e})})})).catch((function(n){console.log("User role could not be found: ",n)}));case 16:delete a.sessionToken,delete a.ACL,n((0,w.av)(a));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.log("Login failed:",e.t0),alert("Invalid login. Please try again");case 25:case"end":return e.stop()}}),e,null,[[3,21]])})))).apply(this,arguments)}return(0,j.jsx)(P,{children:(0,j.jsxs)(A,{children:[(0,j.jsx)(x.Z,{title:"Email Address",styledType:Z.G.LARGE,customStyleProps:(0,s.Z)({},k),name:"email",onChange:L,error:{hasError:v.includes("email"),errorMsg:"Please enter valid email"}}),(0,j.jsx)(x.Z,{title:"Password",styledType:Z.G.LARGE,type:"password",customStyleProps:(0,s.Z)((0,s.Z)({},k),{},{marginTop:"var(--space-12"}),name:"password",onChange:L,error:{hasError:v.includes("password"),errorMsg:"Please enter a password"}}),(0,j.jsx)(y.Z,{title:"Login",onClick:function(){return E.apply(this,arguments)},customStyles:{marginTop:"var(--space-14)",width:"25rem",fontSize:"var(--font-18)",textTransform:"uppercase"}})]})})};var k={fontFamily:"DM Sans",fontSize:"var(--font-16)"},P=h.ZP.div(t||(t=(0,a.Z)(["\n    height: max-content;\n    width: 100%;\n\n    margin: 0;\n    padding: 0;\n"]))),A=h.ZP.div(o||(o=(0,a.Z)(["\n    height: 100%;\n    width: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n"])))},1292:function(n,e,r){r.r(e);var t,o,a,i=r(30168),l=r(4942),s=r(1413),c=r(15861),d=r(70885),u=r(87757),f=r.n(u),p=r(72791),v=r(15751),m=r(94275),g=r.n(m),h=r(19969),y=r(43539),Z=r(95717),x=r(96390),b=r(10824),w=r(12538),j=r(16030),k=r(83647),P=r(80184);e.default=function(){var n,e,r=(0,j.I0)(),t=(0,p.useState)({firstName:"",lastName:"",emailAddress:"",password:"",role:{attributes:{name:""}}}),o=(0,d.Z)(t,2),a=o[0],i=o[1],u=(0,p.useState)([]),v=(0,d.Z)(u,2),m=v[0],E=v[1],T=(0,p.useState)([]),C=(0,d.Z)(T,2),G=C[0],R=C[1];function z(n){var e=n.currentTarget,r=e.name,t=e.value;i((0,s.Z)((0,s.Z)({},a),{},(0,l.Z)({},r,t)))}function N(){for(var n=!0,e=[],r=0,t=Object.entries(a);r<t.length;r++){var o=(0,d.Z)(t[r],2),i=o[0],l=o[1];if("emailAddress"===i)if(l)(0,x.o)(a.emailAddress)||e.push(i);else e.push(i);else if("role"===i){var s,c;0===Object.keys(a.role).length?e.push(i):null!==a&&void 0!==a&&null!==(s=a.role)&&void 0!==s&&null!==(c=s.attributes)&&void 0!==c&&c.name||e.push(i)}else l||e.push(i)}return e.length>0&&(console.log("Vlid error:",e),n=!1),R(e),n}function O(){return(O=(0,c.Z)(f().mark((function n(){var e,t,o,i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N()){n.next=3;break}return n.abrupt("return");case 3:return n.prev=3,(e=new(g().Object)("_User")).set("username",a.emailAddress),e.set("email",a.emailAddress),e.set("password",a.password),e.set("firstName",a.firstName),e.set("lastName",a.lastName),e.set("role",a.role),n.next=13,e.save();case 13:return n.prev=13,n.next=16,g().User.logIn(a.emailAddress,a.password);case 16:return t=n.sent,o=(0,s.Z)((0,s.Z)({id:t.id},t.attributes),{},{role:{id:t.get("role").id}}),i=new(g().Query)("_Role"),n.next=21,i.get(t.get("role").id).then((function(n){var e=n.get("name");o=(0,s.Z)((0,s.Z)({},o),{},{role:(0,s.Z)((0,s.Z)({},o.role),{},{name:e})})})).catch((function(n){console.log("User role could not be found: ",n)}));case 21:delete o.sessionToken,delete o.ACL,r((0,k.av)(o)),alert("User Registered"),n.next=31;break;case 27:n.prev=27,n.t0=n.catch(13),console.log("Login failed:",n.t0),alert("Unable to login registered user");case 31:n.next=37;break;case 33:n.prev=33,n.t1=n.catch(3),console.log("Could not register user: ",n.t1),alert("Unable to register user");case 37:case"end":return n.stop()}}),n,null,[[3,33],[13,27]])})))).apply(this,arguments)}return(0,p.useEffect)((function(){function n(){return(n=(0,c.Z)(f().mark((function n(){var e,r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new(g().Query)("_Role"),n.next=4,e.find();case 4:r=n.sent,E(r),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert("Unable to select role.");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[]),(0,P.jsx)(A,{children:(0,P.jsxs)(L,{children:[(0,P.jsxs)(S,{children:[(0,P.jsx)(h.Z,{title:"First Name",name:"firstName",styledType:Z.G.LARGE,onChange:z,error:{hasError:G.includes("firstName"),errorMsg:"Please enter a value"}}),(0,P.jsx)(h.Z,{title:"Last Name",name:"lastName",styledType:Z.G.LARGE,onChange:z,error:{hasError:G.includes("lastName"),errorMsg:"Please enter a value"}}),(0,P.jsx)(h.Z,{title:"Email Address",name:"emailAddress",type:"email",styledType:Z.G.LARGE,onChange:z,error:{hasError:G.includes("emailAddress"),errorMsg:"Please enter a valid email"}}),(0,P.jsx)(h.Z,{title:"Password",name:"password",type:"password",styledType:Z.G.LARGE,onChange:z,error:{hasError:G.includes("password"),errorMsg:"Please enter correct password"}}),(0,P.jsx)(h.Z,{title:"ROLE",customField:(0,P.jsx)(b.Z,{styledType:Z.G.LARGE,error:G.includes("role"),trigger:(0,P.jsx)("div",{children:(null===a||void 0===a||null===(n=a.role)||void 0===n||null===(e=n.attributes)||void 0===e?void 0:e.name)||"No Role Selected"}),customContainerStyes:{width:"15rem"},children:(0,P.jsx)(w.q,{title:"ROLES",children:m.map((function(n,e){var r;return(0,P.jsx)(w.s,{title:null===n||void 0===n||null===(r=n.attributes)||void 0===r?void 0:r.name,onClick:function(){return function(n){i((0,s.Z)((0,s.Z)({},a),{},{role:n}))}(n)}})}))})})})]}),(0,P.jsx)(y.Z,{title:"Register",onClick:function(){return O.apply(this,arguments)},customStyles:{width:"25rem",fontSize:"var(--font-18)",textTransform:"uppercase"}})]})})};var A=v.ZP.div(t||(t=(0,i.Z)(["\n    height: max-content;\n    width: 100%;\n\n    margin: 0;\n    padding: 0;\n"]))),L=v.ZP.div(o||(o=(0,i.Z)(["\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /* justify-content: center; */\n"]))),S=v.ZP.div(a||(a=(0,i.Z)(["\n    /* height: 100%; */\n    margin-bottom: var(--space-20);\n\n    display: grid;\n    justify-content: center;\n    align-content: center;\n\n    grid-template-columns: repeat(2, 26rem);\n    grid-column-gap: var(--space-20);\n    grid-row-gap: var(--space-12);\n"])))},23116:function(n,e,r){r.r(e);var t,o,a,i,l=r(30168),s=r(15751),c=r(16871),d=r(43504),u=r(55622),f=r(1292),p=r(80184),v=[{path:"/auth/login",title:"Login"},{path:"/auth/register",title:"Register"}];e.default=function(){var n=(0,c.TH)();return(0,p.jsx)(m,{children:(0,p.jsxs)(g,{children:[(0,p.jsx)(h,{children:v.map((function(n,e){return(0,p.jsx)(y,{to:n.path,className:function(n){return n.isActive?"activeLink":void 0},children:n.title},"auth-link-".concat(e))}))}),("/auth/login"===n.pathname||"/auth"===n.pathname)&&(0,p.jsx)(u.default,{}),"/auth/register"===n.pathname&&(0,p.jsx)(f.default,{})]})})};var m=s.ZP.div(t||(t=(0,l.Z)(["\n    height: 100%;\n    width: 100%;\n"]))),g=s.ZP.div(o||(o=(0,l.Z)(["\n    height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    .auth-content {\n        flex: 1;\n        background-color: blue;\n    }\n"]))),h=s.ZP.div(a||(a=(0,l.Z)(["\n    display: flex;\n    flex-direction: row;\n    /* align-items: center;\n    justify-content: center; */\n\n    margin-bottom: var(--space-32);\n\n    margin-top: var(--space-14);\n\n    .activeLink {\n        text-decoration: underline;\n    }\n"]))),y=(0,s.ZP)(d.OL)(i||(i=(0,l.Z)(["\n    font-family: 'Inter';\n    font-size: var(--font-24);\n    line-height: var(--font-24);\n    font-weight: 500;\n    font-style: normal;\n    color: var(--color-gray-800);\n\n    text-decoration: none;\n\n    :first-of-type {\n        margin-right: var(--space-14);\n    }\n\n    :hover {\n        color: var(--color-purple-600);\n    }\n"])))},45987:function(n,e,r){r.d(e,{Z:function(){return o}});var t=r(63366);function o(n,e){if(null==n)return{};var r,o,a=(0,t.Z)(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(a[r]=n[r])}return a}},63366:function(n,e,r){function t(n,e){if(null==n)return{};var r,t,o={},a=Object.keys(n);for(t=0;t<a.length;t++)r=a[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}r.d(e,{Z:function(){return t}})}}]);
//# sourceMappingURL=116.2c07cce1.chunk.js.map